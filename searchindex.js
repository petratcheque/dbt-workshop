Search.setIndex({"docnames": ["README", "chapters/01/intro", "chapters/02/data_sources", "chapters/02/environment_setup", "chapters/02/exercise", "chapters/02/intro", "chapters/02/project_setup", "chapters/02/project_structure", "chapters/03/base_models", "chapters/03/documentation_tests", "chapters/03/exercise", "chapters/03/intro", "chapters/03/staging_models", "chapters/04/exercise", "chapters/04/intro", "chapters/04/marts", "chapters/05/exercise", "chapters/05/historization", "chapters/05/intro", "chapters/06/intro", "dbt-demo/README", "dbt-demo/dbt/dbt_demo/README", "dbt-demo/feedback", "intro"], "filenames": ["README.md", "chapters/01/intro.md", "chapters/02/data_sources.md", "chapters/02/environment_setup.md", "chapters/02/exercise.md", "chapters/02/intro.md", "chapters/02/project_setup.md", "chapters/02/project_structure.md", "chapters/03/base_models.md", "chapters/03/documentation_tests.md", "chapters/03/exercise.md", "chapters/03/intro.md", "chapters/03/staging_models.md", "chapters/04/exercise.md", "chapters/04/intro.md", "chapters/04/marts.md", "chapters/05/exercise.md", "chapters/05/historization.md", "chapters/05/intro.md", "chapters/06/intro.md", "dbt-demo/README.md", "dbt-demo/dbt/dbt_demo/README.md", "dbt-demo/feedback.md", "intro.md"], "titles": ["dbt Workshop", "Introduction to dbt", "Data sources - <code class=\"docutils literal notranslate\"><span class=\"pre\">_src_[sourcename].yml</span></code>", "Environment setup", "Exercise", "Environment &amp; Project setup", "Project setup - <code class=\"docutils literal notranslate\"><span class=\"pre\">dbt_project.yml</span></code>", "Project structure", "Base models - <code class=\"docutils literal notranslate\"><span class=\"pre\">base_[sourcename]_[tablename].sql</span></code>", "Documentation &amp; tests - <code class=\"docutils literal notranslate\"><span class=\"pre\">_stg_[sourcename].yml</span></code>", "Exercise", "Creating base &amp; staging models", "Staging models - <code class=\"docutils literal notranslate\"><span class=\"pre\">stg_[sourcename]_[tablename].sql</span></code>", "Exercise", "Creating data marts", "Building marts - <code class=\"docutils literal notranslate\"><span class=\"pre\">dim_[name].sql</span> <span class=\"pre\">/</span> <span class=\"pre\">fact_[name].sql</span></code>", "Exercise", "Creating historized table - <code class=\"docutils literal notranslate\"><span class=\"pre\">[model_name]_snapshot.sql</span></code>", "Tracking the history with <code class=\"docutils literal notranslate\"><span class=\"pre\">dbt</span> <span class=\"pre\">snapshot</span></code>", "Creating dbt Python model", "dbt demo", "Using the starter project", "Env setup", "Welcome to dbt Workshop"], "terms": {"clone": [0, 3, 20], "repositori": [0, 20], "make": [0, 2, 10], "your": [0, 2, 7, 8, 9, 10, 18, 20, 21, 23], "chang": [0, 1, 6, 16, 18, 22], "commit": 0, "push": 0, "usual": [0, 1], "build": [0, 1, 13, 14, 23], "run": [0, 1, 2, 3, 4, 8, 9, 10, 12, 13, 16, 17, 21, 22], "instal": 0, "ghp": 0, "import": [0, 7, 16], "pip": 0, "n": 0, "p": 0, "f": 0, "_build": 0, "html": 0, "which": [0, 1, 2, 4, 6, 8, 10, 13, 14, 15, 16, 17], "should": [0, 1, 10, 16, 22], "newli": 0, "built": [0, 12], "gh": 0, "page": 0, "branch": [0, 20], "t": [1, 10, 15, 17], "transform": [1, 7, 8, 15], "elt": 1, "data": [1, 3, 4, 5, 6, 7, 8, 9, 11, 16, 17, 18, 20], "pipelin": [1, 15], "It": [1, 7, 9], "top": [1, 12, 22], "databas": [1, 2, 3, 8, 12, 15, 16, 20, 22], "warehous": [1, 2, 9], "creat": [1, 2, 4, 6, 8, 9, 10, 12, 13, 16, 18, 22, 23], "dag": 1, "combin": [1, 22], "sql": [1, 7, 9, 11, 14, 18, 22, 23], "compil": 1, "specif": [1, 7, 15, 18], "sequenti": 1, "definit": 1, "happen": 1, "yaml": [1, 2, 9], "also": [1, 7, 15], "serv": 1, "sourc": [1, 4, 5, 6, 7, 9, 10, 11, 12, 17, 23], "document": [1, 11, 15, 23], "addition": [1, 9], "give": 1, "you": [1, 2, 3, 9, 13, 15, 17, 18, 20, 21, 22, 23], "test": [1, 2, 10, 11, 15, 21, 23], "capabl": 1, "so": [1, 13, 15, 22], "can": [1, 2, 3, 7, 9, 12, 13, 15, 17, 20], "see": [1, 22], "tabl": [1, 2, 3, 4, 6, 7, 8, 9, 10, 13, 15, 23], "ar": [1, 3, 4, 7, 8, 9, 10, 12, 15, 18, 22], "caus": 1, "troubl": 1, "commun": 1, "ha": [1, 9], "clear": [1, 22], "consent": 1, "written": 1, "lowercas": 1, "pleas": 1, "obei": 1, "thi": [1, 3, 5, 7, 8, 9, 10, 12, 13, 15, 16, 17, 20, 23], "agreement": 1, "pars": 1, "everi": [1, 7], "folder": [1, 2, 3, 4, 6, 7, 8, 9, 14, 16, 17, 22], "In": [1, 6, 9, 10, 12, 13, 15, 17], "look": [1, 9, 17], "ref": [1, 10, 12, 13, 15, 16, 17], "depend": 1, "all": [1, 2, 6, 7, 10, 13, 15, 16, 17, 22], "connect": [1, 16], "start": [1, 11, 15, 20], "pure": 1, "found": 1, "target": 1, "whatev": 1, "dbt_project": [1, 2, 5, 7, 23], "yml": [1, 5, 7, 8, 11, 15, 22, 23], "Then": 1, "each": [1, 2, 6, 7, 8, 9, 10, 11, 15], "from": [1, 3, 8, 10, 12, 13, 15, 16, 17, 20, 22], "begin": [1, 9, 14], "end": [1, 10], "filenam": 1, "descript": [1, 2, 10, 15], "The": [1, 8, 9, 15], "project": [1, 3, 4, 20], "configur": [1, 4, 6, 9, 17, 22], "name": [1, 2, 4, 6, 8, 9, 10, 14, 22, 23], "defin": [1, 7, 8, 17], "here": [1, 7, 17], "path": [1, 22], "well": [1, 9], "hookup": 1, "e": [1, 6, 7, 10], "g": [1, 6, 7, 10], "grant": 1, "permiss": 1, "schema": [1, 2, 6, 15, 22], "up": [1, 3, 6, 11, 20, 23], "profil": [1, 2], "includ": [1, 10, 13, 17], "have": [1, 4, 9, 11, 14, 15, 16, 17, 22], "same": [1, 2, 9, 17], "subfold": [1, 2, 6, 7, 15, 22], "insid": [1, 2, 6, 16, 17], "us": [1, 2, 7, 9, 10, 15, 16, 17, 18, 23], "most": [1, 17], "importantli": 1, "raw": [1, 2, 4, 7, 8, 10, 20], "initi": 1, "current": [1, 9, 16], "need": [1, 7, 13, 16], "exist": 1, "view": [1, 6, 7, 18], "after": 1, "least": 1, "one": [1, 9, 10, 12, 13, 15], "onli": [1, 8, 10, 15, 16], "good": 1, "befor": [1, 7], "anyth": 1, "against": 1, "db": [1, 2, 3, 4, 16], "doc": [1, 7, 9, 10, 20, 21, 22], "gener": 1, "info": 1, "number": [1, 13, 22], "row": [1, 17], "webserv": 1, "provid": [1, 9, 10, 13, 16, 23], "localhost": 1, "seed": [1, 2, 3, 4, 22], "take": 1, "csv": [1, 2, 3, 4], "upload": [1, 2], "where": [1, 2, 3, 10, 15, 17, 22], "A": [1, 17], "new": [1, 6, 16, 17, 21], "do": [1, 16], "refer": [1, 2], "previou": [1, 6, 8, 10], "doesn": 1, "enough": 1, "valu": [1, 8, 9], "materi": [1, 6], "default": 1, "AS": 1, "s": [1, 21, 22], "ephemer": 1, "temporari": 1, "session": [1, 10, 13, 15], "These": [1, 9, 15], "middl": 1, "step": [1, 4, 6, 8, 10, 15, 16], "fill": [1, 10], "necessarili": 1, "other": [1, 15], "case": [1, 6, 10], "increment": 1, "difficult": 1, "help": [1, 8, 15], "optim": [1, 7], "comput": 1, "part": 1, "via": 1, "statement": [1, 17], "is_increment": 1, "event_tim": 1, "select": [1, 8, 10, 12, 13, 16, 17], "max": [1, 13], "endif": 1, "merg": 1, "INTO": 1, "insert": [1, 17], "updat": [1, 16, 17, 22], "dev_fullnam": 1, "develop": [1, 21], "env": 1, "variabl": 1, "prod": 1, "product": [1, 15], "behind": 1, "bi": 1, "tool": [1, 2], "jaffle_shop": [2, 3, 4, 6, 17, 20, 22], "google_analyt": [2, 6, 7], "file": [2, 3, 4, 7, 9, 10, 11, 15, 16, 17], "edit": [2, 4], "add": [2, 6, 7, 9, 15, 17, 22], "possibl": 2, "describ": 2, "version": [2, 4, 9, 10, 18, 22], "2": [2, 4, 9, 10, 13, 15, 22], "raw_test": 2, "sit": 2, "table_test": 2, "we": [2, 4, 6, 9, 11, 12, 13, 14, 15, 16, 17, 20, 22], "differ": [2, 15, 18], "identifi": 2, "either": [2, 9, 17, 20], "some": [2, 9, 16], "el": 2, "like": [2, 9, 17], "meltano": 2, "fivetran": 2, "etc": [2, 7], "By": 2, "dbt": [2, 3, 4, 7, 8, 9, 10, 12, 13, 16, 21, 22], "command": [2, 3, 4, 8, 9, 10, 12, 13, 15, 16, 17, 21, 22], "easili": 2, "place": [2, 6, 9, 17], "within": [2, 3, 12, 15], "destin": 2, "modifi": 2, "ad": 2, "exampl": [2, 4, 6, 8, 9, 10, 12, 13, 15, 16, 17], "_src_jaffle_shop": 2, "order": [2, 3, 4, 9, 10, 13, 15, 17, 22], "custom": [2, 3, 4, 8, 9, 10, 12, 13, 15], "payment": [2, 3, 4, 9, 10, 13, 15], "demo": [3, 22], "strvcom": 3, "workshop": [3, 16, 22], "navig": [3, 16, 20], "contain": [3, 4, 7, 9, 10, 15, 16, 17, 22], "postgr": [3, 4, 16, 20], "sampl": [3, 10, 20], "alreadi": [3, 4, 10, 13], "load": [3, 4, 7, 16], "googl": 3, "analyt": [3, 15], "event": [3, 21], "traffic": [3, 4, 10, 13, 15], "onc": [3, 9, 10, 11, 15], "docker": [3, 4, 16, 20, 22], "compos": [3, 20], "attach": [3, 20], "exec": [3, 16, 20, 22], "1": [3, 9, 10, 13, 15, 16, 17, 20, 22], "bin": [3, 20, 22], "bash": [3, 20, 22], "now": [3, 15, 16, 17], "execut": [3, 15], "setup": [4, 15], "perform": [4, 8], "environ": 4, "4": [4, 10], "3": [4, 10, 13, 22], "them": 4, "our": [4, 6, 15, 16, 17, 20, 23], "ga": [4, 22], "locat": 4, "ga_traff": [4, 10], "To": [4, 8, 9, 12, 16, 17], "dataset": 4, "src_": 4, "sourcenam": [4, 5, 10, 11, 23], "both": 4, "accord": [4, 6, 10, 16], "dbt_seed": [4, 10, 22], "chapter": 5, "dedic": [5, 14], "structur": [5, 6, 9, 13, 15, 20, 23], "_src_": [5, 8, 23], "exercis": [5, 11, 14, 18, 23], "go": [6, 15], "set": [6, 10, 11, 15, 23], "dbt_workshop": [6, 22], "scroll": 6, "down": [6, 15], "under": [6, 8, 22], "model": [6, 7, 9, 10, 13, 14, 16, 20], "first": [6, 16], "submodel": 6, "recommend": [6, 7, 13, 15], "stage": [6, 7, 8, 10, 13, 15], "mart": [6, 7, 22, 23], "core": [6, 7, 22], "intermedi": [7, 22], "customers__union": 7, "customers__group": 7, "dim_custom": [7, 16, 22], "fct_order": 7, "stripe": 7, "base": [7, 9, 10, 12, 20, 22], "base__stripe_invoic": 7, "src_stripe": 7, "stg_stripe": 7, "stg_stripe__custom": 7, "stg_stripe__invoic": 7, "how": 7, "know": 7, "directori": [7, 20], "inform": [7, 9, 10, 13, 15, 17], "tell": 7, "oper": 7, "two": [7, 13, 17, 22], "backend": 7, "salesforc": 7, "centric": 7, "renam": [7, 8, 10], "recast": [7, 8], "done": [7, 8], "domain": [7, 15], "sale": [7, 15], "market": [7, 15], "code": 7, "report": 7, "analysi": 7, "fact": [7, 9, 13, 15, 22], "dim": [7, 22], "clean": 7, "filter": [7, 10, 12], "final": [7, 13, 15], "typic": [7, 9, 15], "when": [7, 10], "multipl": [7, 12], "store": [8, 15, 17], "No": 8, "column": [8, 9, 10, 13, 16, 17], "lineag": 8, "source_nam": 8, "table_nam": 8, "wa": 8, "kei": [8, 15, 17], "base_jaffle_shop_custom": [8, 9, 12], "id": [8, 10], "customer_id": [8, 9, 10, 12, 13, 16], "first_nam": [8, 10, 12, 13], "last_nam": [8, 10, 12, 13], "termin": [8, 9, 10, 12, 15, 16, 17], "cours": 9, "stg_": [9, 11, 23], "wai": 9, "properti": 9, "human": 9, "readabl": 9, "format": 9, "For": [9, 15], "might": [9, 15], "someth": 9, "my_model": 9, "my": 9, "column_1": 9, "uniqu": [9, 10], "not_nul": [9, 10], "column_2": 9, "simpl": [9, 13, 20], "line": 9, "long": 9, "block": [9, 15, 17], "addit": [9, 10, 15], "markdown": 9, "fact_ord": [9, 16], "basic": [9, 10], "about": [9, 10, 17, 21], "deriv": 9, "statu": [9, 10, 13, 16, 17], "orders_statu": 9, "md": 9, "follow": [9, 13, 15, 16, 21], "status": 9, "been": 9, "yet": 9, "left": [9, 13, 15], "ship": [9, 17], "ben": 9, "transit": 9, "complet": 9, "receiv": 9, "return": 9, "enddoc": 9, "ensur": 9, "duplic": 9, "zero": 9, "null": [9, 17], "valid": 9, "correct": [9, 22], "order_id": [9, 10, 13, 16, 17], "check": [9, 16, 17, 21, 22], "_stg_jaffle_shop": 9, "base_jaffle_shop_ord": 9, "base_jaffle_shop_pay": 9, "payment_id": [9, 10], "stg_jaffle_shop_custom": [9, 12, 13], "total": [10, 13], "sure": 10, "entiti": [10, 15], "thei": [10, 15, 18], "repres": 10, "tip": 10, "lectur": [10, 15], "firstli": 10, "amount": [10, 13], "bigger": 10, "than": 10, "0": [10, 22], "total_amount": [10, 13], "coupon_amount": [10, 13], "payment_method": 10, "_stg_": [10, 11, 23], "finish": 10, "don": [10, 15, 17], "forget": [10, 15, 17], "order_d": [10, 13, 15, 17], "100": [10, 13, 15], "date": [10, 13, 15], "user": 10, "visitor": [10, 13, 15], "pageview": 10, "page_view": [10, 13, 15], "enrich": [10, 12, 22], "full_nam": [10, 12, 13], "aggreg": [10, 12], "sum": [10, 13], "coupon": 10, "els": 10, "group": [10, 13, 15], "paid": [10, 13], "per": 10, "field": [10, 17], "base_": [11, 23], "_": [11, 23], "tablenam": [11, 23], "layer": [12, 13], "join": [12, 13, 15, 21, 22], "togeth": [12, 15, 17], "dimension": [13, 20, 23], "consist": [13, 15], "dimens": [13, 15, 22], "find": [13, 21], "stg_jaffle_shop_ord": [13, 15], "stg_jaffle_shop_orders_valu": 13, "queri": 13, "calcul": [13, 15], "first_ord": 13, "last_ord": 13, "no_of_ord": 13, "while": [13, 15, 17], "were": 13, "further": 13, "copi": [13, 16, 22], "past": 13, "customer_ord": 13, "min": 13, "count": [13, 15], "customer_amount": 13, "stg_google_analytics_traff": [13, 15], "orders_daili": [13, 15], "orders_amount": [13, 15], "round": [13, 15], "decim": [13, 15], "coversion_r": [13, 15], "next": [14, 16], "section": 14, "dim_": [14, 23], "fact_": [14, 23], "practic": [15, 21, 23], "techniqu": 15, "concept": 15, "creation": 15, "star": 15, "central": 15, "surround": 15, "more": [15, 21], "measur": 15, "quantit": 15, "analyz": 15, "revenu": 15, "attribut": 15, "qualit": 15, "relationship": 15, "between": 15, "establish": 15, "through": 15, "call": 15, "foreign": 15, "allow": [15, 17, 18], "_core": 15, "cte": 15, "bring": 15, "fact_traff": 15, "flag": [15, 22], "specifi": 15, "subset": 15, "correspond": 15, "busi": 15, "function": [15, 17], "financ": 15, "relat": 15, "_finance__model": 15, "_marketing__model": 15, "s_": 15, "verb": 15, "break": 15, "complex": 15, "smaller": 15, "manag": 15, "act": 15, "enabl": [15, 18], "modular": 15, "mean": 15, "reus": 15, "scalabl": 15, "process": [15, 17], "easier": 15, "understand": 15, "maintain": 15, "proce": 16, "record": [16, 17, 18], "prepar": 16, "batch": 16, "fresh": 16, "open": 16, "cp": [16, 22], "wip": 16, "psql": 16, "u": 16, "datawarehous": 16, "i": [16, 22], "snapshot": 16, "config": [16, 17], "unique_kei": [16, 17], "strategi": [16, 17], "target_schema": [16, 17], "check_col": [16, 17], "endsnapshot": [16, 17], "scd": 17, "track": [17, 23], "over": [17, 18], "time": [17, 18], "whenev": 17, "occur": 17, "old": 17, "mark": 17, "inact": 17, "keep": 17, "an": 17, "overwritten": 17, "2018": 17, "01": 17, "goe": 17, "That": 17, "prevent": 17, "lose": 17, "primari": 17, "state": [17, 18], "recent": 17, "dbt_valid_from": 17, "dbt_valid_to": 17, "04": 17, "orders_snapshot": 17, "what": 17, "want": 17, "requir": 17, "timestamp": 17, "arrai": 17, "updated_at": 17, "If": 17, "compar": [17, 18], "captur": 18, "point": 18, "histor": [18, 23], "model_nam": [18, 23], "_snapshot": [18, 23], "todo": 19, "templat": 20, "learn": [20, 21], "local": 20, "machin": 20, "checkout": 20, "explor": 20, "scratch": 20, "write": 20, "own": [20, 23], "awesom": 20, "packag": 20, "train": 20, "slack": [20, 21], "welcom": 21, "try": 21, "out": 21, "discours": 21, "commonli": 21, "ask": 21, "question": 21, "answer": 21, "chat": 21, "live": 21, "discuss": 21, "support": 21, "blog": 21, "latest": 21, "best": [21, 23], "note": 22, "w": 22, "dbt_demo": 22, "form": 22, "debug": 22, "pass": 22, "list": 22, "There": 22, "unus": 22, "_src_ga": 22, "would": 22, "src": 22, "stg": 22, "instead": 22, "put": 22, "split": 22, "jaffl": 22, "cmd": 22, "label": 22, "_ml": 22, "_src_ml": 22, "fal": 22, "ai": 22, "design": 23, "hand": 23, "experi": 23, "implement": 23, "histori": 23}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"dbt": [0, 1, 15, 17, 18, 19, 20, 23], "workshop": [0, 23], "how": [0, 1, 17, 20], "updat": 0, "jupyt": 0, "book": 0, "introduct": [1, 23], "what": [1, 20], "fun": 1, "fact": 1, "doe": 1, "work": [1, 17], "main": 1, "file": 1, "command": 1, "jinja": 1, "function": [1, 8], "model": [1, 8, 11, 12, 15, 19, 22, 23], "set": 1, "data": [2, 14, 15, 22, 23], "sourc": [2, 8, 22], "_src_": 2, "sourcenam": [2, 8, 9, 12], "yml": [2, 4, 6, 9, 10], "load": 2, "option": [2, 15], "environ": [3, 5, 23], "setup": [3, 5, 6, 22, 23], "exercis": [4, 10, 13, 16, 22], "solut": [4, 10, 13, 16], "_src_jaffle_shop": 4, "_src_google_analyt": 4, "project": [5, 6, 7, 21, 22, 23], "tabl": [5, 11, 14, 17, 18, 19], "content": [5, 11, 14, 18, 19], "dbt_project": 6, "structur": [7, 22], "base": [8, 11, 23], "base_": 8, "_": [8, 12], "tablenam": [8, 12], "sql": [8, 10, 12, 13, 15, 16, 17], "us": [8, 20, 21], "document": [9, 22], "test": [9, 22], "_stg_": 9, "defin": [9, 22], "descript": [9, 22], "summari": 9, "base_jaffle_shop_custom": 10, "base_jaffle_shop_ord": 10, "base_jaffle_shop_pay": 10, "base_google_analytics_traff": 10, "stg_jaffle_shop_custom": 10, "stg_jaffle_shop_ord": 10, "stg_jaffle_shop_orders_valu": 10, "stg_jaffle_shop_pay": 10, "stg_google_analytics_traff": 10, "_stg_jaffle_shop": 10, "_stg_google_analyt": 10, "creat": [11, 14, 15, 17, 19], "stage": [11, 12, 22, 23], "stg_": 12, "dim_custom": 13, "fact_ord": 13, "fact_traff": 13, "mart": [14, 15], "build": 15, "dim_": 15, "name": 15, "fact_": 15, "kimbal": 15, "s": 15, "dimension": 15, "core": 15, "folder": 15, "run": [15, 20], "select": 15, "model_fold": 15, "model_nam": [15, 17], "cover": 15, "multipl": 15, "area": 15, "intermedi": 15, "prerequisit": 16, "dim_customers_snapshot": 16, "fact_orders_snapshot": 16, "histor": 17, "_snapshot": 17, "type": 17, "2": 17, "slowli": 17, "chang": 17, "dimens": 17, "snapshot": [17, 18, 22, 23], "track": 18, "histori": 18, "python": [19, 23], "demo": 20, "contain": 20, "tip": 20, "next": 20, "step": 20, "starter": 21, "resourc": 21, "env": 22, "move": 22, "after": 22, "falai": 22, "welcom": 23}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx": 56}})